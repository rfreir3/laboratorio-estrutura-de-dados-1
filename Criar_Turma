#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#define MAX_VAGAS 4
#define MAX_TURMAS 2

typedef struct aluno{
	char nome[80];
	int mat;
	float notas[3];
	float media;
}Aluno;

typedef struct turma{
	char id;
	int vagas;
	Aluno* alunos[MAX_VAGAS];
}Turma;

void inicializa(Turma** turmas){
	int i;
	turmas=(Turma**)malloc(MAX_TURMAS*sizeof(Turma*));
	for(i=0;i<MAX_TURMAS;i++){
		turmas[i]=NULL;
	}
}

Turma* cria_turma(char id){
	int i;
	Turma* turmas;
	for(i=0;i<MAX_TURMAS;i++){
		printf("Digite um id para a %dª turma: ", i+1);
		scanf("%c", id);
		turmas[i].id=id;
	}
}

void matricula_aluno(Turma* turmas, int mat, char* nome){
	int i, j;
	Aluno** alunos;
	for(i=0;i<MAX_VAGAS;i++){
		if(i<0||i>=MAX_VAGAS){
			printf("Turmas cheias");
			exit(1);	
		}
		else if(turmas[i].alunos==NULL){
			alunos=(Aluno**)malloc(MAX_VAGAS*sizeof(Aluno*));
			printf("Digite o nome do %dº aluno: ", i+1);
			scanf(" %[^\n]s", turmas[i].alunos[i]->nome[i]);
			printf("Digite o número da matrícula do %dº aluno: ", i+1);
			scanf("%d", &turmas[i].alunos[i]->mat);
		}
	}
}

/*void lanca_notas(Turma* turmas){
	int i;
	for(i=0;i<MAX_VAGAS;i++){
		printf("Digite a %dª nota: ", i+1);
		scanf("%f", turmas[i].alunos[i]->notas[i]);
		
	}
}*/

int main(){
	setlocale(LC_ALL, "Portuguese");
	Turma* turmas;
	char id;
	char* nome;
	int mat;
	inicializa(&turmas);
	cria_turma(id);
	matricula_aluno(turmas, mat, nome);
	//lanca_turmas(turmas);
	return(0);
}
